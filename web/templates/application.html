<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>詳細情報・申し込み確定</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>

    <div class="container">
        
        <nav class="breadcrumb">
            <a href="/lesson" class="back-link">&lt; 開講情報一覧に戻る</a>
        </nav>
        
        <header class="page-header">
            <h1>申し込み内容の確認</h1>
        </header>

        <section class="lesson-info-card">
            <h2 class="card-title">選択した模擬授業</h2>
            <ul class="info-list">
                <li><span class="label">授業名:</span> <span class="value">{{.Session.ClassName}}</span></li>
                
                <li><span class="label">日時:</span> <span class="value">
                    {{.Session.StartAt.Format "2006年01月02日 15:04"}} 〜 {{.Session.EndAt.Format "15:04"}}
                </span></li>
                
                <li><span class="label">場所:</span> <span class="value">{{.Session.RoomNumber}} {{.Session.RoomName}}</span></li>
                
                <li><span class="label">担当教職員:</span> <span class="value">{{.Session.TeacherName}}</span></li>
                
                <li><span class="label">現在の空き状況:</span> 
                    <span class="status-available">
                        受付可能 (残り {{.Session.RemainingSeats}} 席)
                    </span>
                </li>
            </ul>
            
            <div class="card-footer">
                {{if .Session.SyllabusPDF}}
                    <a href="/static/uploads/{{.Session.SyllabusPDF}}" target="_blank" class="link-pdf">授業概要(PDF)を確認する</a>
                {{else}}
                    <span class="text-muted">概要PDFはありません</span>
                {{end}}
            </div>
        </section>

        <form action="/application" method="post" class="application-form">
            
            <input type="hidden" name="session_id" value="{{.Session.SessionID}}">

            <section class="user-info-section">
                <h2>参加者情報の確認</h2>
                <table class="user-info-table">
                    <tr>
                        <th>中学生氏名</th>
                        <td>{{.User.StudentName.String}}</td>
                    </tr>
                    <tr>
                        <th>保護者等氏名</th>
                        <td>{{.User.GuardianName.String}}</td>
                    </tr>
                    <tr>
                        <th>中学校名</th>
                        <td>{{.User.SchoolName.String}}</td>
                    </tr>
                    <tr>
                        <th>学年</th>
                        <td>中学{{.User.Grade.String}}年生</td>
                    </tr>
                    <tr>
                        <th>通知先メールアドレス</th>
                        <td>{{.Email}}</td>
                    </tr>
                </table>
                
                <p class="note-text">
                    ※登録情報を変更したい場合は、<a href="/">マイページ</a>から変更してください
                </p>
            </section>

            <div class="consent-box">
                <h3 class="consent-title">申し込み前の確認事項</h3>
                <ul class="consent-list">
                    <li>申し込み完了後の<strong>キャンセル・変更はできません</strong>。</li>
                    <li>同時間帯の他の授業と重複して申し込むことはできません</li>
                    <li>申し込み可能数は<strong>全体で最大3件まで</strong>です</li>
                    <li>1日あたりの参加可能数は<strong>最大2件まで</strong>です</li>
                </ul>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="agree" name="agree" required>
                    <label for="agree">上記の注意事項を確認し、同意しました</label>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-submit">申し込みを確定する</button>
            </div>

        </form>
    </div>

</body>
</html>
